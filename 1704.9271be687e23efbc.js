"use strict";(self.webpackChunkmill_sys=self.webpackChunkmill_sys||[]).push([[1704],{1704:(D,b,p)=>{p.r(b),p.d(b,{FileAppModule:()=>Q});var e=p(6895),g=p(433),v=p(5593),_=p(1795),x=p(99),h=p(1327),C=p(3388),Z=p(9364),t=p(1571),M=p(529);let A=(()=>{class s{constructor(n){this.http=n}getFiles(){return this.http.get("assets/demo/data/file-management.json").toPromise().then(n=>n.files).then(n=>n)}getMetrics(){return this.http.get("assets/demo/data/file-management.json").toPromise().then(n=>n.metrics).then(n=>n)}getFoldersSmall(){return this.http.get("assets/demo/data/file-management.json").toPromise().then(n=>n.folders_small).then(n=>n)}getFoldersLarge(){return this.http.get("assets/demo/data/file-management.json").toPromise().then(n=>n.folders_large).then(n=>n)}}return s.\u0275fac=function(n){return new(n||s)(t.LFG(M.eN))},s.\u0275prov=t.Yz7({token:s,factory:s.\u0275fac}),s})();var O=p(2453),w=p(6957),F=p(8568),y=p(805);const I=["buttonEl"];function S(s,m){1&s&&(t.TgZ(0,"div",8),t._UZ(1,"i",9),t.TgZ(2,"span",10),t._uU(3,"Upload Files"),t.qZA(),t.TgZ(4,"span",11),t._uU(5,"Drop or select files"),t.qZA()())}function E(s,m){if(1&s){const n=t.EpF();t.TgZ(0,"div",14),t.NdJ("mouseenter",function(){const u=t.CHM(n).$implicit,T=t.oxw(3);return t.KtG(T.onImageMouseOver(u))})("mouseleave",function(){const u=t.CHM(n).$implicit,T=t.oxw(3);return t.KtG(T.onImageMouseLeave(u))}),t._UZ(1,"img",15),t.TgZ(2,"button",16,17),t.NdJ("click",function(d){const T=t.CHM(n).$implicit,U=t.oxw(3);return t.KtG(U.removeImage(d,T))}),t.qZA()()}if(2&s){const n=m.$implicit;t.xp6(1),t.Q6J("src",n.objectURL,t.LSH)("alt",n.name),t.xp6(1),t.Q6J("id",n.name)}}function P(s,m){if(1&s&&(t.TgZ(0,"div",12),t.YNc(1,E,4,3,"div",13),t.qZA()),2&s){const n=t.oxw(2);t.xp6(1),t.Q6J("ngForOf",n.uploadedFiles)}}function a(s,m){if(1&s){const n=t.EpF();t.TgZ(0,"div",5),t.NdJ("click",function(){t.CHM(n),t.oxw();const d=t.MAs(3);return t.KtG(d.advancedFileInput.nativeElement.click())}),t.YNc(1,S,6,0,"div",6),t.YNc(2,P,2,1,"div",7),t.qZA()}if(2&s){const n=t.oxw();t.xp6(1),t.Q6J("ngIf",!n.uploadedFiles.length),t.xp6(1),t.Q6J("ngIf",n.uploadedFiles.length)}}let c=(()=>{class s{constructor(n){this.messageService=n,this.uploadedFiles=[]}onUpload(n){for(let r of n.files)this.uploadedFiles.push(r);this.messageService.add({severity:"success",summary:"Success",detail:"File uploaded successfully"})}onImageMouseOver(n){this.buttonEl.toArray().forEach(r=>{r.nativeElement.id===n.name&&(r.nativeElement.style.display="flex")})}onImageMouseLeave(n){this.buttonEl.toArray().forEach(r=>{r.nativeElement.id===n.name&&(r.nativeElement.style.display="none")})}removeImage(n,r){n.stopPropagation(),this.uploadedFiles=this.uploadedFiles.filter(d=>d!==r)}}return s.\u0275fac=function(n){return new(n||s)(t.Y36(y.ez))},s.\u0275cmp=t.Xpm({type:s,selectors:[["app-file-uploader"]],viewQuery:function(n,r){if(1&n&&t.Gf(I,5),2&n){let d;t.iGM(d=t.CRH())&&(r.buttonEl=d)}},features:[t._Bn([y.ez])],decls:5,vars:5,consts:[["key","fu"],[1,"card"],["name","demo[]","url","./upload.php","accept","image/*",1,"w-full",3,"customUpload","multiple","showUploadButton","showCancelButton","auto","onUpload","onSelect"],["fileUploader",""],["pTemplate","content"],[1,"w-full","py-3",2,"cursor","copy",3,"click"],["class","h-full flex flex-column justify-content-center align-items-center",4,"ngIf"],["class","flex flex-wrap gap-5",4,"ngIf"],[1,"h-full","flex","flex-column","justify-content-center","align-items-center"],[1,"pi","pi-upload","text-900","text-2xl","mb-3"],[1,"font-bold","text-900","text-xl","mb-3"],[1,"font-medium","text-600","text-md","text-center"],[1,"flex","flex-wrap","gap-5"],["class","h-full relative w-7rem h-7rem border-3 border-transparent border-round hover:bg-primary transition-duration-100 cursor-auto","style","padding: 1px;",3,"mouseenter","mouseleave",4,"ngFor","ngForOf"],[1,"h-full","relative","w-7rem","h-7rem","border-3","border-transparent","border-round","hover:bg-primary","transition-duration-100","cursor-auto",2,"padding","1px",3,"mouseenter","mouseleave"],[1,"w-full","h-full","border-round","shadow-2",3,"src","alt"],["pButton","","pRipple","","type","button","icon","pi pi-times",1,"p-button-rounded","p-button-primary","text-sm","absolute","justify-content-center","align-items-center","cursor-pointer",2,"top","-10px","right","-10px","display","none",3,"id","click"],["buttonEl",""]],template:function(n,r){1&n&&(t._UZ(0,"p-toast",0),t.TgZ(1,"div",1)(2,"p-fileUpload",2,3),t.NdJ("onUpload",function(u){return r.onUpload(u)})("onSelect",function(u){return r.onUpload(u)}),t.YNc(4,a,3,2,"ng-template",4),t.qZA()()),2&n&&(t.xp6(2),t.Q6J("customUpload",!0)("multiple",!0)("showUploadButton",!0)("showCancelButton",!1)("auto",!0))},dependencies:[e.sg,e.O5,v.Hq,_.H,O.FN,y.jx,C.p],encapsulation:2}),s})();function i(s,m){if(1&s){const n=t.EpF();t.TgZ(0,"div",26)(1,"div",27)(2,"div",28)(3,"span",29),t._uU(4),t.qZA(),t.TgZ(5,"div")(6,"button",30),t.NdJ("click",function(d){t.CHM(n);const u=t.MAs(8);return t.KtG(u.toggle(d))}),t.qZA(),t._UZ(7,"p-menu",31,32),t.qZA()(),t.TgZ(9,"div")(10,"div",33),t._UZ(11,"div",34),t.qZA(),t.TgZ(12,"div",35)(13,"span",36),t._uU(14),t.qZA(),t.TgZ(15,"span",36),t._uU(16),t.qZA()()()()()}if(2&s){const n=m.$implicit,r=t.oxw();t.xp6(4),t.Oqu(n.title),t.xp6(2),t.Q6J("icon",n.icon),t.xp6(1),t.Q6J("popup",!0)("model",r.menuitems),t.xp6(3),t.Q6J("ngClass",n.color),t.xp6(1),t.Q6J("ngClass",n.fieldColor),t.xp6(3),t.Oqu(n.files),t.xp6(2),t.Oqu(n.fileSize)}}function o(s,m){if(1&s&&(t.TgZ(0,"div",37)(1,"div",38)(2,"div",11),t._UZ(3,"i",39),t.TgZ(4,"span",40),t._uU(5),t.qZA()(),t.TgZ(6,"span",41),t._uU(7),t.qZA()()()),2&s){const n=m.$implicit;t.xp6(3),t.Q6J("ngClass",n.icon),t.xp6(2),t.Oqu(n.name),t.xp6(2),t.Oqu(n.size)}}function l(s,m){1&s&&(t.TgZ(0,"tr")(1,"th",42),t._uU(2,"Name "),t._UZ(3,"p-sortIcon",43),t.qZA(),t.TgZ(4,"th",44),t._uU(5,"Date "),t._UZ(6,"p-sortIcon",45),t.qZA(),t.TgZ(7,"th",46),t._uU(8,"File Size "),t._UZ(9,"p-sortIcon",43),t.qZA(),t._UZ(10,"th",47),t.qZA())}function f(s,m){if(1&s&&(t.TgZ(0,"tr")(1,"td")(2,"div",11),t._UZ(3,"i"),t.TgZ(4,"span"),t._uU(5),t.qZA()()(),t.TgZ(6,"td")(7,"span"),t._uU(8),t.qZA()(),t.TgZ(9,"td")(10,"span"),t._uU(11),t.qZA()(),t.TgZ(12,"td",48),t._UZ(13,"button",49)(14,"button",50),t.qZA()()),2&s){const n=m.$implicit;t.xp6(3),t.Tol("text-xl text-primary mr-2 "+n.icon),t.xp6(2),t.Oqu(n.name),t.xp6(3),t.Oqu(n.date),t.xp6(3),t.Oqu(n.fileSize)}}const q=function(){return{width:"75%"}};let J=(()=>{class s{constructor(n,r){this.fileService=n,this.layoutService=r,this.files=[],this.metrics=[],this.folders=[],this.menuitems=[],this.subscription=this.layoutService.configUpdate$.subscribe(d=>{this.initChart()})}ngOnInit(){this.fileService.getFiles().then(n=>this.files=n),this.fileService.getMetrics().then(n=>this.metrics=n),this.fileService.getFoldersLarge().then(n=>this.folders=n),this.initChart(),this.menuitems=[{label:"View",icon:"pi pi-search"},{label:"Refresh",icon:"pi pi-refresh"}]}initChart(){const n=getComputedStyle(document.documentElement),r=n.getPropertyValue("--text-color");this.chartPlugins=[{beforeDraw:function(d){let u=d.ctx,T=d.width,U=d.height,Y=u.fillStyle;u.restore(),u.font="1.5rem sans-serif",u.textBaseline="middle";let k="Free Space",j=Math.round((T-u.measureText(k).width)/2),V=(U+d.chartArea.top)/2.25,H=Math.round((T-u.measureText(k).width)/2.1),G=(U+d.chartArea.top)/1.75;u.fillStyle=d.config.data.datasets[0].backgroundColor[0],u.fillText(k,j,V),u.fillText("50GB / 80GB",H,G),u.fillStyle=Y,u.save()}}],this.fileChart={datasets:[{data:[300,100],backgroundColor:[n.getPropertyValue("--primary-600"),n.getPropertyValue("--primary-100")],hoverBackgroundColor:[n.getPropertyValue("--primary-700"),n.getPropertyValue("--primary-200")],borderColor:"transparent",fill:!0}]},this.fileChartOptions={animation:{duration:0},cutout:"90%",plugins:{legend:{labels:{color:r}}}}}}return s.\u0275fac=function(n){return new(n||s)(t.Y36(A),t.Y36(F.P))},s.\u0275cmp=t.Xpm({type:s,selectors:[["ng-component"]],decls:50,vars:11,consts:[[1,"grid"],["class","col-12 md:col-6 lg:col-3",4,"ngFor","ngForOf"],[1,"col-12","md:col-5","xl:col-3"],[1,"card"],[1,"text-900","text-xl","font-semibold","mb-3"],["type","doughnut","id","country-chart",3,"plugins","data","options"],[1,"mt-5","flex","gap-3"],["pButton","","pRipple","","icon","pi pi-search","label","Details",1,"p-button-outlined","flex-1"],["pButton","","pRipple","","icon","pi pi-upload","label","Upgrade",1,"flex-1"],[1,"list-none","p-0","m-0"],[1,"p-3","mb-3","flex","align-items-center","justify-content-between","cursor-pointer","border-round","bg-indigo-50","text-indigo-900"],[1,"flex","align-items-center"],[1,"pi","pi-image","text-2xl","mr-3"],[1,"ext-lg","font-medium"],[1,"text-lg","font-bold"],[1,"p-3","mb-3","flex","align-items-center","justify-content-between","cursor-pointer","border-round","bg-purple-50","text-purple-900"],[1,"pi","pi-file","text-2xl","mr-3"],[1,"p-3","flex","align-items-center","justify-content-between","cursor-pointer","border-round","bg-teal-50","text-teal-900"],[1,"pi","pi-video","text-2xl","mr-3"],[1,"card","p-0"],[1,"col-12","md:col-7","xl:col-9"],["class","col-12 md:col-6 xl:col-4",4,"ngFor","ngForOf"],["responsiveLayout","scroll",3,"value","rows","paginator"],["dt",""],["pTemplate","header"],["pTemplate","body"],[1,"col-12","md:col-6","lg:col-3"],[1,"card","h-full"],[1,"flex","align-items-center","justify-content-between","mb-3"],[1,"text-900","text-xl","font-semibold"],["pButton","","pRipple","",1,"p-button-text","p-button-sm","p-button-rounded",3,"icon","click"],["appendTo","body",3,"popup","model"],["menu",""],[1,"border-round",2,"height","6px",3,"ngClass"],[1,"h-full","border-round",2,"width","34%",3,"ngClass"],[1,"flex","align-item-center","justify-content-between"],[1,"text-900","mt-3","text-md","font-medium"],[1,"col-12","md:col-6","xl:col-4"],[1,"p-3","border-1","surface-border","flex","align-items-center","justify-content-between","hover:surface-100","cursor-pointer","border-round"],[1,"text-2xl","mr-3",3,"ngClass"],[1,"text-900","text-lg","font-medium"],[1,"text-600","text-lg","font-semibold"],["pSortableColumn","name",1,"white-space-nowrap",2,"min-width","12rem"],["field","name"],["pSortableColumn","date",1,"white-space-nowrap",2,"min-width","12rem"],["field","date"],["pSortableColumn","fileSize",1,"white-space-nowrap",2,"min-width","12rem"],[2,"width","10rem"],[1,"text-center"],["pButton","","pRipple","","icon","pi pi-times",1,"p-button-danger","p-button-text","p-button-rounded","mr-2"],["pButton","","pRipple","","icon","pi pi-search",1,"p-button-text","p-button-rounded"]],template:function(n,r){1&n&&(t.TgZ(0,"div",0),t.YNc(1,i,17,8,"div",1),t.TgZ(2,"div",2)(3,"div",3)(4,"div",4),t._uU(5,"Account Storage"),t.qZA(),t._UZ(6,"p-chart",5),t.TgZ(7,"div",6),t._UZ(8,"button",7)(9,"button",8),t.qZA()(),t.TgZ(10,"div",3)(11,"div",4),t._uU(12,"Categories"),t.qZA(),t.TgZ(13,"ul",9)(14,"li",10)(15,"div",11),t._UZ(16,"i",12),t.TgZ(17,"span",13),t._uU(18,"Images"),t.qZA()(),t.TgZ(19,"span",14),t._uU(20,"85"),t.qZA()(),t.TgZ(21,"li",15)(22,"div",11),t._UZ(23,"i",16),t.TgZ(24,"span",13),t._uU(25,"Documents"),t.qZA()(),t.TgZ(26,"span",14),t._uU(27,"231"),t.qZA()(),t.TgZ(28,"li",17)(29,"div",11),t._UZ(30,"i",18),t.TgZ(31,"span",13),t._uU(32,"Videos"),t.qZA()(),t.TgZ(33,"span",14),t._uU(34,"40"),t.qZA()()()(),t.TgZ(35,"div",19),t._UZ(36,"app-file-uploader"),t.qZA()(),t.TgZ(37,"div",20)(38,"div",3)(39,"div",4),t._uU(40,"Folders"),t.qZA(),t.TgZ(41,"div",0),t.YNc(42,o,8,3,"div",21),t.qZA()(),t.TgZ(43,"div",3)(44,"div",4),t._uU(45,"Recent Uploads"),t.qZA(),t.TgZ(46,"p-table",22,23),t.YNc(48,l,11,0,"ng-template",24),t.YNc(49,f,15,5,"ng-template",25),t.qZA()()()()),2&n&&(t.xp6(1),t.Q6J("ngForOf",r.metrics),t.xp6(5),t.Akn(t.DdM(10,q)),t.Q6J("plugins",r.chartPlugins)("data",r.fileChart)("options",r.fileChartOptions),t.xp6(36),t.Q6J("ngForOf",r.folders),t.xp6(4),t.Q6J("value",r.files)("rows",8)("paginator",!0))},dependencies:[e.mk,e.sg,v.Hq,_.H,y.jx,x.iA,x.lQ,x.fz,h.v2,Z.C,c],styles:["[_nghost-%COMP%]     .p-fileupload-content{border:0 none}[_nghost-%COMP%]     .p-fileupload-row{display:none}[_nghost-%COMP%]     .p-progressbar{display:none}[_nghost-%COMP%]     .p-fileupload{padding:0}[_nghost-%COMP%]     .p-fileupload-buttonbar{display:none}"]}),s})(),B=(()=>{class s{}return s.\u0275fac=function(n){return new(n||s)},s.\u0275mod=t.oAB({type:s}),s.\u0275inj=t.cJS({imports:[w.Bz.forChild([{path:"",component:J}]),w.Bz]}),s})(),Q=(()=>{class s{}return s.\u0275fac=function(n){return new(n||s)},s.\u0275mod=t.oAB({type:s}),s.\u0275inj=t.cJS({providers:[A],imports:[e.ez,B,g.u5,v.hJ,_.T,O.EV,x.U$,h.$9,C.O,Z.S]}),s})()},2453:(D,b,p)=>{p.d(b,{EV:()=>P,FN:()=>E});var e=p(1571),g=p(6895),v=p(805),_=p(982),x=p(1795),h=p(7340);const C=["container"],Z=function(a,c,i,o){return{"pi-info-circle":a,"pi-exclamation-triangle":c,"pi-times-circle":i,"pi-check":o}};function t(a,c){if(1&a&&(e.ynx(0),e._UZ(1,"span",6),e.TgZ(2,"div",7)(3,"div",8),e._uU(4),e.qZA(),e.TgZ(5,"div",9),e._uU(6),e.qZA()(),e.BQk()),2&a){const i=e.oxw();e.xp6(1),e.Tol("p-toast-message-icon pi"+(i.message.icon?" "+i.message.icon:"")),e.Q6J("ngClass",e.l5B(5,Z,"info"==i.message.severity,"warn"==i.message.severity,"error"==i.message.severity,"success"==i.message.severity)),e.xp6(3),e.Oqu(i.message.summary),e.xp6(2),e.Oqu(i.message.detail)}}function M(a,c){1&a&&e.GkF(0)}function A(a,c){if(1&a){const i=e.EpF();e.TgZ(0,"button",10),e.NdJ("click",function(l){e.CHM(i);const f=e.oxw();return e.KtG(f.onCloseIconClick(l))})("keydown.enter",function(l){e.CHM(i);const f=e.oxw();return e.KtG(f.onCloseIconClick(l))}),e._UZ(1,"span",11),e.qZA()}}const O=function(a){return[a,"p-toast-message"]},w=function(a,c,i,o){return{showTransformParams:a,hideTransformParams:c,showTransitionParams:i,hideTransitionParams:o}},F=function(a){return{value:"visible",params:a}},y=function(a){return{$implicit:a}};function I(a,c){if(1&a){const i=e.EpF();e.TgZ(0,"p-toastItem",3),e.NdJ("onClose",function(l){e.CHM(i);const f=e.oxw();return e.KtG(f.onMessageClose(l))})("@toastAnimation.start",function(l){e.CHM(i);const f=e.oxw();return e.KtG(f.onAnimationStart(l))})("@toastAnimation.done",function(l){e.CHM(i);const f=e.oxw();return e.KtG(f.onAnimationEnd(l))}),e.qZA()}if(2&a){const i=c.$implicit,o=c.index,l=e.oxw();e.Q6J("message",i)("index",o)("template",l.template)("@toastAnimation",void 0)("showTransformOptions",l.showTransformOptions)("hideTransformOptions",l.hideTransformOptions)("showTransitionOptions",l.showTransitionOptions)("hideTransitionOptions",l.hideTransitionOptions)}}let S=(()=>{class a{constructor(i){this.zone=i,this.onClose=new e.vpe}ngAfterViewInit(){this.initTimeout()}initTimeout(){this.message.sticky||this.zone.runOutsideAngular(()=>{this.timeout=setTimeout(()=>{this.onClose.emit({index:this.index,message:this.message})},this.message.life||3e3)})}clearTimeout(){this.timeout&&(clearTimeout(this.timeout),this.timeout=null)}onMouseEnter(){this.clearTimeout()}onMouseLeave(){this.initTimeout()}onCloseIconClick(i){this.clearTimeout(),this.onClose.emit({index:this.index,message:this.message}),i.preventDefault()}ngOnDestroy(){this.clearTimeout()}}return a.\u0275fac=function(i){return new(i||a)(e.Y36(e.R0b))},a.\u0275cmp=e.Xpm({type:a,selectors:[["p-toastItem"]],viewQuery:function(i,o){if(1&i&&e.Gf(C,5),2&i){let l;e.iGM(l=e.CRH())&&(o.containerViewChild=l.first)}},hostAttrs:[1,"p-element"],inputs:{message:"message",index:"index",template:"template",showTransformOptions:"showTransformOptions",hideTransformOptions:"hideTransformOptions",showTransitionOptions:"showTransitionOptions",hideTransitionOptions:"hideTransitionOptions"},outputs:{onClose:"onClose"},decls:6,vars:21,consts:[[3,"ngClass","mouseenter","mouseleave"],["container",""],["role","alert","aria-live","assertive","aria-atomic","true",1,"p-toast-message-content",3,"ngClass"],[4,"ngIf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["type","button","class","p-toast-icon-close p-link","pRipple","",3,"click","keydown.enter",4,"ngIf"],[3,"ngClass"],[1,"p-toast-message-text"],[1,"p-toast-summary"],[1,"p-toast-detail"],["type","button","pRipple","",1,"p-toast-icon-close","p-link",3,"click","keydown.enter"],[1,"p-toast-icon-close-icon","pi","pi-times"]],template:function(i,o){1&i&&(e.TgZ(0,"div",0,1),e.NdJ("mouseenter",function(){return o.onMouseEnter()})("mouseleave",function(){return o.onMouseLeave()}),e.TgZ(2,"div",2),e.YNc(3,t,7,10,"ng-container",3),e.YNc(4,M,1,0,"ng-container",4),e.YNc(5,A,2,0,"button",5),e.qZA()()),2&i&&(e.Tol(o.message.styleClass),e.Q6J("ngClass",e.VKq(10,O,"p-toast-message-"+o.message.severity))("@messageState",e.VKq(17,F,e.l5B(12,w,o.showTransformOptions,o.hideTransformOptions,o.showTransitionOptions,o.hideTransitionOptions))),e.uIk("id",o.message.id),e.xp6(2),e.Q6J("ngClass",o.message.contentStyleClass),e.xp6(1),e.Q6J("ngIf",!o.template),e.xp6(1),e.Q6J("ngTemplateOutlet",o.template)("ngTemplateOutletContext",e.VKq(19,y,o.message)),e.xp6(1),e.Q6J("ngIf",!1!==o.message.closable))},dependencies:[g.mk,g.O5,g.tP,x.H],encapsulation:2,data:{animation:[(0,h.X$)("messageState",[(0,h.SB)("visible",(0,h.oB)({transform:"translateY(0)",opacity:1})),(0,h.eR)("void => *",[(0,h.oB)({transform:"{{showTransformParams}}",opacity:0}),(0,h.jt)("{{showTransitionParams}}")]),(0,h.eR)("* => void",[(0,h.jt)("{{hideTransitionParams}}",(0,h.oB)({height:0,opacity:0,transform:"{{hideTransformParams}}"}))])])]},changeDetection:0}),a})(),E=(()=>{class a{constructor(i,o,l){this.messageService=i,this.cd=o,this.config=l,this.autoZIndex=!0,this.baseZIndex=0,this.position="top-right",this.preventOpenDuplicates=!1,this.preventDuplicates=!1,this.showTransformOptions="translateY(100%)",this.hideTransformOptions="translateY(-100%)",this.showTransitionOptions="300ms ease-out",this.hideTransitionOptions="250ms ease-in",this.onClose=new e.vpe,this.id=(0,_.Th)()}ngOnInit(){this.messageSubscription=this.messageService.messageObserver.subscribe(i=>{if(i)if(i instanceof Array){const o=i.filter(l=>this.canAdd(l));this.add(o)}else this.canAdd(i)&&this.add([i])}),this.clearSubscription=this.messageService.clearObserver.subscribe(i=>{i?this.key===i&&(this.messages=null):this.messages=null,this.cd.markForCheck()})}ngAfterViewInit(){this.breakpoints&&this.createStyle()}add(i){this.messages=this.messages?[...this.messages,...i]:[...i],this.preventDuplicates&&(this.messagesArchieve=this.messagesArchieve?[...this.messagesArchieve,...i]:[...i]),this.cd.markForCheck()}canAdd(i){let o=this.key===i.key;return o&&this.preventOpenDuplicates&&(o=!this.containsMessage(this.messages,i)),o&&this.preventDuplicates&&(o=!this.containsMessage(this.messagesArchieve,i)),o}containsMessage(i,o){return!!i&&null!=i.find(l=>l.summary===o.summary&&l.detail==o.detail&&l.severity===o.severity)}ngAfterContentInit(){this.templates.forEach(i=>{i.getType(),this.template=i.template})}onMessageClose(i){this.messages.splice(i.index,1),this.onClose.emit({message:i.message}),this.cd.detectChanges()}onAnimationStart(i){"void"===i.fromState&&(this.containerViewChild.nativeElement.setAttribute(this.id,""),this.autoZIndex&&""===this.containerViewChild.nativeElement.style.zIndex&&_.P9.set("modal",this.containerViewChild.nativeElement,this.baseZIndex||this.config.zIndex.modal))}onAnimationEnd(i){"void"===i.toState&&this.autoZIndex&&_.gb.isEmpty(this.messages)&&_.P9.clear(this.containerViewChild.nativeElement)}createStyle(){if(!this.styleElement){this.styleElement=document.createElement("style"),this.styleElement.type="text/css",document.head.appendChild(this.styleElement);let i="";for(let o in this.breakpoints){let l="";for(let f in this.breakpoints[o])l+=f+":"+this.breakpoints[o][f]+" !important;";i+=`\n                    @media screen and (max-width: ${o}) {\n                        .p-toast[${this.id}] {\n                           ${l}\n                        }\n                    }\n                `}this.styleElement.innerHTML=i}}destroyStyle(){this.styleElement&&(document.head.removeChild(this.styleElement),this.styleElement=null)}ngOnDestroy(){this.messageSubscription&&this.messageSubscription.unsubscribe(),this.containerViewChild&&this.autoZIndex&&_.P9.clear(this.containerViewChild.nativeElement),this.clearSubscription&&this.clearSubscription.unsubscribe(),this.destroyStyle()}}return a.\u0275fac=function(i){return new(i||a)(e.Y36(v.ez),e.Y36(e.sBO),e.Y36(v.b4))},a.\u0275cmp=e.Xpm({type:a,selectors:[["p-toast"]],contentQueries:function(i,o,l){if(1&i&&e.Suo(l,v.jx,4),2&i){let f;e.iGM(f=e.CRH())&&(o.templates=f)}},viewQuery:function(i,o){if(1&i&&e.Gf(C,5),2&i){let l;e.iGM(l=e.CRH())&&(o.containerViewChild=l.first)}},hostAttrs:[1,"p-element"],inputs:{key:"key",autoZIndex:"autoZIndex",baseZIndex:"baseZIndex",style:"style",styleClass:"styleClass",position:"position",preventOpenDuplicates:"preventOpenDuplicates",preventDuplicates:"preventDuplicates",showTransformOptions:"showTransformOptions",hideTransformOptions:"hideTransformOptions",showTransitionOptions:"showTransitionOptions",hideTransitionOptions:"hideTransitionOptions",breakpoints:"breakpoints"},outputs:{onClose:"onClose"},decls:3,vars:5,consts:[[3,"ngClass","ngStyle"],["container",""],[3,"message","index","template","showTransformOptions","hideTransformOptions","showTransitionOptions","hideTransitionOptions","onClose",4,"ngFor","ngForOf"],[3,"message","index","template","showTransformOptions","hideTransformOptions","showTransitionOptions","hideTransitionOptions","onClose"]],template:function(i,o){1&i&&(e.TgZ(0,"div",0,1),e.YNc(2,I,1,8,"p-toastItem",2),e.qZA()),2&i&&(e.Tol(o.styleClass),e.Q6J("ngClass","p-toast p-component p-toast-"+o.position)("ngStyle",o.style),e.xp6(2),e.Q6J("ngForOf",o.messages))},dependencies:[g.mk,g.sg,g.PC,S],styles:[".p-toast{position:fixed;width:25rem}.p-toast-message{overflow:hidden}.p-toast-message-content{display:flex;align-items:flex-start}.p-toast-message-text{flex:1 1 auto}.p-toast-top-right{top:20px;right:20px}.p-toast-top-left{top:20px;left:20px}.p-toast-bottom-left{bottom:20px;left:20px}.p-toast-bottom-right{bottom:20px;right:20px}.p-toast-top-center{top:20px;left:50%;transform:translate(-50%)}.p-toast-bottom-center{bottom:20px;left:50%;transform:translate(-50%)}.p-toast-center{left:50%;top:50%;min-width:20vw;transform:translate(-50%,-50%)}.p-toast-icon-close{display:flex;align-items:center;justify-content:center;overflow:hidden;position:relative}.p-toast-icon-close.p-link{cursor:pointer}\n"],encapsulation:2,data:{animation:[(0,h.X$)("toastAnimation",[(0,h.eR)(":enter, :leave",[(0,h.IO)("@*",(0,h.pV)())])])]},changeDetection:0}),a})(),P=(()=>{class a{}return a.\u0275fac=function(i){return new(i||a)},a.\u0275mod=e.oAB({type:a}),a.\u0275inj=e.cJS({imports:[g.ez,x.T,v.m8]}),a})()}}]);